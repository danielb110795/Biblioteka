<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core">

<ui:include src="#{componentController.getHead()}" />

<h:body>
	<ui:include src="#{componentController.getMainMenu()}" />
	
	<ui:fragment rendered="#{autoryzacjaController.sprawdzKtoZalogowany() == 'ADMINISTRATOR'}">
			<ui:include src="#{componentController.getMenuAdmin()}" />
	</ui:fragment>
	
	<ui:fragment rendered="#{autoryzacjaController.sprawdzKtoZalogowany() == 'PRACOWNIK'}">
			<ui:include src="#{componentController.getMenuPracownik()}" />
	</ui:fragment>
	
	<div id="srodek">

	<div id="tekst2">
		<h2>Dodawanie czytelnika:</h2>
		<hr class='a' />
		<br/>
		
		<h:form> 
				Login: 
				<br/>
					<h:inputText id="login" name="login" styleClass="input-text" 
					value="#{uzytkownikController.login}" required="true" requiredMessage="To pole jest wymagane"
					validatorMessage="Login musi zawierać tylko litery i liczby i mieć od 4 do 10 znaków">
					<f:validateRegex pattern="[0-9A-Za-z]{4,10}" />
					</h:inputText>	
					<h:message for="login" errorStyle="color:red; display:block"/>
					<h:outputText styleClass="error" value=" #{uzytkownikController.errorMessageLogin}"></h:outputText>
				<br/>
				
				Hasło: 
				<br/>
					<h:inputText id="haslo" name="haslo" styleClass="input-text" 
					value="#{uzytkownikController.haslo}" required="true" requiredMessage="To pole jest wymagane"
					validatorMessage="Hasło musi zawierać dużą literę, małą literę oraz liczbę i mieć od 4 do 10 znaków">
					<f:validateRegex pattern="((?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{4,10})" />
					</h:inputText>
					<h:message for="haslo" errorStyle="color:red; display:block"/>		
				<br/>
				
				E-mail: 
				<br/>
					<h:inputText id="email" name="email" styleClass="input-text" 
					value="#{uzytkownikController.email}" required="true" requiredMessage="To pole jest wymagane"
					validatorMessage="Podaj odpowiedni email np. daniel@gmail.com">
					<f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
					</h:inputText>
					<h:message for="email" errorStyle="color:red; display:block"/>	
					<h:outputText styleClass="error" value=" #{uzytkownikController.errorMessageEmail}"></h:outputText>	
				<br/>
				
				Imie: 
				<br/>
					<h:inputText id="imie" name="imie" styleClass="input-text" 
					value="#{uzytkownikController.imie}" required="true" requiredMessage="To pole jest wymagane"
					validatorMessage="Nie podawaj cyfr i znaków specjalnych, wymagane 1-30 znaków">
					<f:validateRegex pattern="[A-Za-z]{1,30}" />
					</h:inputText>
					<h:message for="imie" errorStyle="color:red; display:block"/>		
				<br/>
				
				Nazwisko: 
				<br/>
					<h:inputText id="nazwisko" name="nazwisko" styleClass="input-text" 
					value="#{uzytkownikController.nazwisko}" required="true" requiredMessage="To pole jest wymagane"
					validatorMessage="Nie podawaj cyfr i znaków specjalnych, wymagane 1-30 znaków">
					<f:validateRegex pattern="[A-Za-z]{1,30}" />
					</h:inputText>
					<h:message for="nazwisko" errorStyle="color:red; display:block"/>	
				<br/>
				
				Pesel: 
				<br/>
					<h:inputText id="pesel" name="pesel" styleClass="input-text" 
					value="#{uzytkownikController.pesel}" required="true" requiredMessage="To pole jest wymagane"
					validatorMessage="Podaj 9 cyfr">
					<f:validateRegex pattern="[0-9]{9,9}" />
					</h:inputText>
					<h:message for="pesel" errorStyle="color:red; display:block"/>		
				<br/>
				
				Adres: 
				<br/>
					<h:inputText id="adres" name="adres" styleClass="input-text" 
					value="#{uzytkownikController.adres}" required="true" requiredMessage="To pole jest wymagane"/>
					<h:message for="adres" errorStyle="color:red; display:block"/>		
				<br/>
				
				<h:commandButton value="Dodaj" action="#{uzytkownikController.dodajUzytkownika()}" />
			</h:form>
			
			
	</div>
	</div>
</h:body>
</html>