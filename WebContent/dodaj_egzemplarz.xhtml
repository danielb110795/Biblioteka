<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core">

<ui:include src="#{componentController.getHead()}" />

<body>
	<ui:include src="#{componentController.getMainMenu()}" />
	
	<ui:fragment rendered="#{autoryzacjaController.sprawdzKtoZalogowany() == 'ADMINISTRATOR'}">
		<ui:include src="#{componentController.getMenuAdmin()}" />
	</ui:fragment>
	
	<ui:fragment rendered="#{autoryzacjaController.sprawdzKtoZalogowany() == 'PRACOWNIK'}">
		<ui:include src="#{componentController.getMenuPracownik()}" />
	</ui:fragment>
	
	<div id="srodek">
	
	<div id="tekst2">
		<h2>Dodawanie nowej książki (Etap 5):</h2>
		<hr class='a' />
		<br/>
		<br/>
		
		<ui:fragment rendered="#{ksiazkaController.errorMessageEgzemplarz != ''}">
   			<div>
      			<h3><h:outputText styleClass="error" value="#{ksiazkaController.errorMessageEgzemplarz}"></h:outputText></h3>
  	 		</div>
		</ui:fragment>
		
		<ui:fragment rendered="#{ksiazkaController.dodajKolejnyEgzemplarzMessage != ''}">
   			<div>
      			<h3><h:outputText styleClass="error" value="#{ksiazkaController.dodajKolejnyEgzemplarzMessage}"></h:outputText></h3>
  	 		</div>
		</ui:fragment>
		
		<br/>
		<h2>Dodawanie nowego egzemplarza:</h2>
		<h:form>
				
				ISBN: 
				<br/> 
			    <h:inputText id="ISBN" styleClass="input-text" name="ISBN" 
			    value="#{ksiazkaController.ISBN}" required="true" requiredMessage="To pole jest wymagane"			    
			    validatorMessage="Wymagane znaki: 0-9, wymagane dokładnie 13 znaków.">
			    <f:validateRegex pattern="[0-9]{13,13}" />
                </h:inputText>
                <h:message for="ISBN" errorStyle="color:red; display:block"/>
                <br/> 
              
			<h:commandButton style="width:190px" value="Dodaj książke" action="#{ksiazkaController.saveEgzemplarz(0)}"/>
			<h:commandButton style="width:190px" value="Dodaj kolejny egzemplarz" action="#{ksiazkaController.saveEgzemplarz(1)}"/>
		</h:form>		
		<h:form><h:commandButton style="width:190px" value="Przejdz do podsumowania" action="podsumowanie_ksiazki"/> </h:form>	
	</div>
	
	<br/>
	</div>

	<a href="javascript:scroll(0,0);">W górę</a> 	
</body> 
</html> 